<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Estacion 2</title>
  </head>
  <body>
    <div class="container">
        <h1>Que area se trabajara?</h1>
        <form action="#">

            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="Recipient's username" id="search" autofocus aria-label="Recipient's username" aria-describedby="button-addon2" onkeyup="myFunction()">
                <button class="btn btn-outline-secondary" type="button" id="button-addon2">Button</button>
            </div>
        </form>
    </div>


    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <script>
        const log = document.getElementById('search');

document.addEventListener('keyup', logKey);
  var w;
function logKey(e) {
  if (log.value.length == 9) {
  console.log(`Ingresara a: ${log.value}`);
        if (log.value=='ES3000RED') {
            console.log('Recubrimiento Dipping');
            if (!w || w.closed) {
                w = window.open("https://pruebav2.indexseven.com/web?debug#action=933&active_id=2&model=mrp.workorder&view_type=list&menu_id=286","_blank","menubar = 0, scrollbars = 0");
              } else {
                     w.close();                
                 if (log.value=='ES3000RED' && w.closed) {
                    console.log('window is already opened');
                    w = window.open("https://pruebav2.indexseven.com/web?debug#action=933&active_id=2&model=mrp.workorder&view_type=list&menu_id=286","_blank","menubar = 0, scrollbars = 0");
                 }else if (log.value=='ES3000RES' && w.closed) {
                    w = window.open("https://pruebav2.indexseven.com/web?debug#action=933&active_id=8&model=mrp.workorder&view_type=list&menu_id=286","_blank","menubar = 0, scrollbars = 0");
                    }else if (log.value=='ES30000AR' && w.closed) {
                        w = window.open("https://pruebav2.indexseven.com/web?debug#action=933&active_id=3&model=mrp.workorder&view_type=list&menu_id=286","_blank","menubar = 0, scrollbars = 0");
                    }
            }
            w.focus();
            log.value="";
        }else if (log.value=='ES3000RES') {
            console.log('Recubrimiento Spinning');
            if (!w || w.closed) {
                w = window.open("https://pruebav2.indexseven.com/web?debug#action=933&active_id=8&model=mrp.workorder&view_type=list&menu_id=286","_blank","menubar = 0, scrollbars = 0");
            } else {  
                     w.close();
                 if (log.value=='ES3000RED' && w.closed) {
                    w = window.open("https://pruebav2.indexseven.com/web?debug#action=933&active_id=2&model=mrp.workorder&view_type=list&menu_id=286","_blank","menubar = 0, scrollbars = 0");  
                 }else if (log.value=='ES3000RES' && w.closed) {
                      console.log('window is already opened'); 
                      w = window.open("https://pruebav2.indexseven.com/web?debug#action=933&active_id=8&model=mrp.workorder&view_type=list&menu_id=286","_blank","menubar = 0, scrollbars = 0");
                    }else if (log.value=='ES30000AR' && w.closed) {
                        w = window.open("https://pruebav2.indexseven.com/web?debug#action=933&active_id=3&model=mrp.workorder&view_type=list&menu_id=286","_blank","menubar = 0, scrollbars = 0");
                    }
            }
            w.focus();
            log.value="";
        }else if (log.value=='ES30000AR') {
            console.log('Antirreflejo');
            if (!w || w.closed) {
                w = window.open("https://pruebav2.indexseven.com/web?debug#action=933&active_id=3&model=mrp.workorder&view_type=list&menu_id=286","_blank","menubar = 0, scrollbars = 0");
            } else {
                     w.close();                
                if (log.value=='ES3000RED' && w.closed) {
                    w = window.open("https://pruebav2.indexseven.com/web?debug#action=933&active_id=2&model=mrp.workorder&view_type=list&menu_id=286","_blank","menubar = 0, scrollbars = 0");  
                 }else if (log.value=='ES3000RES' && w.closed) {
                    w = window.open("https://pruebav2.indexseven.com/web?debug#action=933&active_id=8&model=mrp.workorder&view_type=list&menu_id=286","_blank","menubar = 0, scrollbars = 0");
                    }else if (log.value=='ES30000AR' && w.closed) {
                        console.log('window is already opened');
                        w = window.open("https://pruebav2.indexseven.com/web?debug#action=933&active_id=3&model=mrp.workorder&view_type=list&menu_id=286","_blank","menubar = 0, scrollbars = 0");
                    }
            }
            w.focus();
            log.value="";
        }

    return false;
  }
}
    </script>
  </body>
</html>